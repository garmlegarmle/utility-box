---
interface Props {
  title: string;
  description: string;
  href: string;
  image?: string;
  imageAlt?: string;
  meta?: string[];
  ctaLabel?: string;
}

const { title, description, href, image, imageAlt, meta = [], ctaLabel = 'Open' } = Astro.props;
const hasImage = Boolean(image);
---
<article class={`editorial-card${hasImage ? ' has-image' : ''}`}>
  {
    hasImage && (
      <a class="card-image-wrap" href={href}>
        <img class="card-image" src={image} alt={imageAlt ?? title} loading="lazy" decoding="async" />
      </a>
    )
  }

  <div class={`card-body${hasImage ? '' : ' text-only'}`}>
    <div>
      <h2 class="card-title">{title}</h2>
      <p class="card-description">{description}</p>
      {
        meta.length > 0 && (
          <p class="card-meta">
            <span class="card-meta-list">{meta.map((item) => <span>{item}</span>)}</span>
          </p>
        )
      }
    </div>

    <a class="text-link" href={href}>
      {ctaLabel} <span aria-hidden="true">â†’</span>
    </a>
  </div>
</article>
