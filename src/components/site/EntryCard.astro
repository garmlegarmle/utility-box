---
interface Props {
  title: string;
  description: string;
  href: string;
  image?: string;
  imageAlt?: string;
  category?: string;
  tag?: string;
  rankLabel?: string;
  meta?: string[];
  ctaLabel?: string;
}

const {
  title,
  href,
  image,
  imageAlt,
  category,
  tag,
  rankLabel = '#1',
  meta = []
} = Astro.props;

const categoryText = (category ?? meta[0] ?? 'Category').trim();
const tagText = (tag ?? meta[1] ?? 'Tag').trim();
---
<a class="entry-card" href={href}>
  <div class="entry-card__media">
    {image ? (
      <img class="entry-card__image" src={image} alt={imageAlt ?? title} loading="lazy" decoding="async" />
    ) : (
      <div class="entry-card__placeholder">이미지 혹은 숫자</div>
    )}
  </div>
  <div class="entry-card__info">
    <p class="entry-card__meta">
      <span>{categoryText}</span>
      <span>{tagText}</span>
    </p>
    <p class="entry-card__title-row">
      <span class="entry-card__title">{title}</span>
      <span class="entry-card__rank">{rankLabel}</span>
    </p>
  </div>
</a>
