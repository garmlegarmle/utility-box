---
import type { SiteLang } from '../../consts';

interface NavItem {
  key: 'home' | 'blog' | 'tools' | 'games';
  label: string;
  href: string;
}

interface Props {
  lang: SiteLang;
  active?: NavItem['key'];
  languageToggleHref: string;
}

const { lang, active, languageToggleHref } = Astro.props;

const navItems: NavItem[] = [
  { key: 'home', label: 'HOME', href: `/${lang}/` },
  { key: 'tools', label: 'TOOL', href: `/${lang}/tools/` },
  { key: 'games', label: 'GAME', href: `/${lang}/games/` },
  { key: 'blog', label: 'BLOG', href: `/${lang}/blog/` }
];

const toggleLabel = 'EN / KR';
---
<header class="site-header">
  <div class="container header-inner">
    <a class="site-title" href={`/${lang}/`}>Utility Box</a>
    <nav class="site-nav" aria-label={lang === 'ko' ? '주요 탐색' : 'Primary navigation'}>
      {
        navItems.map((item) => (
          <a href={item.href} aria-current={active === item.key ? 'page' : undefined}>
            {item.label}
          </a>
        ))
      }
      <a
        class="lang-toggle"
        href={languageToggleHref}
        rel="alternate"
        hreflang={lang === 'ko' ? 'en' : 'ko'}
        aria-label={lang === 'ko' ? '영문 페이지로 전환' : 'Switch to Korean pages'}
      >
        {toggleLabel}
      </a>
    </nav>
  </div>
</header>
