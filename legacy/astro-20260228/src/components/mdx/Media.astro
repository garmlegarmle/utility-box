---
interface Props {
  src: string;
  alt: string;
  caption?: string;
  ratio?: '1:1' | '4:3' | '16:9';
}

const { src, alt, caption, ratio = '4:3' } = Astro.props;
const ratioClass = ratio === '1:1' ? 'ratio-1-1' : ratio === '16:9' ? 'ratio-16-9' : 'ratio-4-3';
---
<figure class="mdx-media">
  <div class={`mdx-media-frame ${ratioClass}`}>
    <img src={src} alt={alt} loading="lazy" decoding="async" />
  </div>
  {caption && <figcaption class="mdx-caption">{caption}</figcaption>}
</figure>
